<xmodel version="2" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
     xsi:noNamespaceSchemaLocation='http://flame.ac.uk/schema/xmml_v2.xsd'>
 <name>all_not_valid</name>
 <version>1</version>
 <author>Simon Coakley</author>
 <description>Test model</description>
 <environment>
 <functionFiles>
 <file>functions.c</file>
 <file>functions.notc</file>
 </functionFiles>
 <constants>
   <variable><type>not_valid_type</type><name>a</name><description></description></variable>
   <variable><type>int</type><name>duplicate_name</name><description></description></variable>
   <variable><type>int</type><name>duplicate_name</name><description></description></variable>
   <variable><type>int_array</type><name>c</name><description></description></variable>
   <variable><type>a_datatype</type><name>d</name><description></description></variable>
   <variable><type>c_datatype</type><name>e</name><description></description></variable>
   <variable><type>int</type><name>invalid_name?</name><description></description></variable>
 </constants>
 <dataTypes>
   <dataType>
     <name>a_datatype</name>
     <variables>
       <variable><type>int</type><name>a</name><description></description></variable>
     </variables>
   </dataType>
   <dataType>
     <name>dulicate_name</name>
     <variables>
       <variable><type>int</type><name>a</name><description></description></variable>
     </variables>
   </dataType>
   <dataType>
     <name>dulicate_name</name>
     <variables>
       <variable><type>int</type><name>b</name><description></description></variable>
     </variables>
   </dataType>
   <dataType>
     <name>int</name>
     <variables>
       <variable><type>b_datatype</type><name>b_datatype_dt</name><description></description></variable>
     </variables>
   </dataType>
   <dataType>
     <name>b_datatype</name>
     <variables>
       <variable><type>a_datatype</type><name>a_datatype_dt</name><description></description></variable>
       <variable><type>int_array</type><name>int_a_dt</name><description></description></variable>
     </variables>
   </dataType>
   <dataType>
     <name>c_datatype</name>
     <variables>
       <variable><type>b_datatype</type><name>b_datatype_dt</name><description></description></variable>
     </variables>
   </dataType>
   <dataType>
     <name>invalid_name!</name>
     <variables>
       <variable><type>int</type><name>a</name><description></description></variable>
     </variables>
   </dataType>
 </dataTypes>
  <timeUnits>
    <timeUnit>
        <name>invalid_name$</name>
        <unit>iteration</unit>
        <period>1</period>
    </timeUnit>
    <timeUnit>
        <name>duplicate_name</name>
        <unit>iteration</unit>
        <period>1</period>
    </timeUnit>
    <timeUnit>
        <name>duplicate_name</name>
        <unit>iteration</unit>
        <period>1</period>
    </timeUnit>
    <timeUnit>
        <name>iteration</name>
        <unit>iteration</unit>
        <period>1</period>
    </timeUnit>
    <timeUnit>
        <name>invalid_unit</name>
        <unit>invalid_unit</unit>
        <period>not_an_int</period>
    </timeUnit>
    <timeUnit>
        <name>period_invalid</name>
        <unit>iteration</unit>
        <period>0</period>
    </timeUnit>
  	<timeUnit>
  		<name>daily</name>
  		<unit>iteration</unit>
  		<period>1</period>
  	</timeUnit>
  	<timeUnit>
        <name>monthly</name>
        <unit>daily</unit>
        <period>20</period>
    </timeUnit>
  </timeUnits>
 </environment>
 <agents>
  
   <xagent>
   <name>invalid_name*</name>
   <description></description>
   <memory>
   </memory>
   <functions>
   </functions>
  </xagent>
  
  <xagent>
   <name>duplicate_name</name>
   <description></description>
   <memory>
   </memory>
   <functions>
   </functions>
  </xagent>
  
  <xagent>
   <name>duplicate_name</name>
   <description></description>
   <memory>
   </memory>
   <functions>
   </functions>
  </xagent>
  
  <xagent>
   <name>AgentA</name>
   <description></description>
   <memory>
    <variable><type>int</type><name>agentA_a</name><description></description></variable>
    <variable><type>int</type><name>agentA_b</name><description></description></variable>
    <variable><type>int</type><name>agentA_c</name><description></description></variable>
    <variable><type>int</type><name>agentA_d</name><description></description></variable>
   </memory>
   <functions>
   
    <function>
     <name>invalid_name*</name>
     <description></description>
     <currentState>invalid_name*</currentState>
     <nextState>invalid_name*</nextState>
     <condition>
     <lhs>
      <lhs>
       <not>
        <time>
         <period>monthly</period>
         <phase>not_int</phase>
         <duration>not_int</duration>
        </time>
       </not>
      </lhs>
      <op>EQ</op>
      <rhs>
       <lhs>
        <value>not_number</value>
       </lhs>
       <op>AND</op>
       <rhs>
        <value>a.not_var</value>
       </rhs>
      </rhs>
      </lhs>
      <op>AND</op>
      <rhs>
      <lhs>
        <value>1</value>
       </lhs>
       <op>AND</op>
       <rhs>
        <lhs>
        <value>1</value>
       </lhs>
       <op>EQ</op>
       <rhs>
        <value>1</value>
       </rhs>
       </rhs>
      </rhs>
     </condition>
    </function>
   
    <function>
     <name>f1</name>
     <description></description>
     <currentState>1</currentState>
     <nextState>2</nextState>
     <condition>
      <lhs>
       <not>
        <time>
         <period>monthly</period>
         <phase>a.agentA_a</phase>
        </time>
       </not>
      </lhs>
      <op>OR</op>
      <rhs>
       <lhs>
        <value>a.agentA_a</value>
       </lhs>
       <op>EQ</op>
       <rhs>
        <value>a.agentA_b</value>
       </rhs>
      </rhs>
     </condition>
     <inputs/>
     <outputs>
     <output>
     <messageName>messageA</messageName>
     </output>
     </outputs>
    </function>
    
    <function>
     <name>f2</name>
     <description></description>
     <currentState>2</currentState>
     <nextState>3</nextState>
     <inputs>
     <input>
     <messageName>messageA</messageName>
     <filter>
     <lhs><value>m.not_var</value></lhs><op>EQ</op><rhs><value>1</value></rhs>
     </filter>
     <sort>
     <key>nat_var</key>
     <order>not_ascend</order>
     </sort>
     <random>true</random>
     </input>
     <input>
     <messageName>not_message</messageName>
     <sort>
     <key>nat_var</key>
     <order>ascend</order>
     </sort>
     </input>
     <input>
     <messageName>messageB</messageName>
     <random>not_true</random>
     </input>
     </inputs>
     <outputs>
     <output>
     <messageName>not_message</messageName>
     </output>
     </outputs>
    </function>
    
    <function>
     <name>f3</name>
     <description></description>
     <currentState>2</currentState>
     <nextState>3</nextState>
     <inputs>
     <input>
     <messageName>messageA</messageName>
     <filter>
     <lhs><value>m.messageA_a</value></lhs><op>EQ</op><rhs><value>m.messageA_b</value></rhs>
     </filter>
     <random>true</random>
     </input>
     </inputs>
    </function>
 
   </functions>
  </xagent>
  
 </agents>
 <messages>
 
 <message>
 <name>invalid_name;</name>
 <description></description>
 <variables>
 <variable><type>int</type><name>a</name><description></description></variable>
 </variables>
 </message>
 
 <message>
 <name>duplicate_name</name>
 <description></description>
 <variables>
 <variable><type>int</type><name>a</name><description></description></variable>
 </variables>
 </message>
 
 <message>
 <name>duplicate_name</name>
 <description></description>
 <variables>
 <variable><type>int</type><name>a</name><description></description></variable>
 </variables>
 </message>
 
 <message>
 <name>messageA</name>
 <description></description>
 <variables>
 <variable><type>int</type><name>messageA_a</name><description></description></variable>
 <variable><type>int</type><name>messageA_b</name><description></description></variable>
 <variable><type>int</type><name>messageA_c</name><description></description></variable>
 <variable><type>int</type><name>messageA_d[2]</name><description></description></variable>
 </variables>
 </message>
 
 <message>
 <name>messageB</name>
 <description></description>
 <variables>
 <variable><type>int</type><name>messageB_a</name><description></description></variable>
 <variable><type>int</type><name>messageB_b</name><description></description></variable>
 <variable><type>a_datatype</type><name>messageB_c</name><description></description></variable>
 <variable><type>a_datatype</type><name>messageB_d</name><description></description></variable>
 </variables>
 </message>
 
 </messages>
</xmodel>
